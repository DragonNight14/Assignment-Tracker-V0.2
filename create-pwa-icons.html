<!DOCTYPE html>
<html>
<head>
    <title>PWA Icon Generator - Assignment Manager</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .instructions {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .icon-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.2s ease;
        }
        .icon-item:hover {
            transform: translateY(-5px);
        }
        canvas {
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            margin-bottom: 15px;
            transition: transform 0.2s ease;
        }
        canvas:hover {
            transform: scale(1.05);
        }
        .download-btn {
            background: #10B981;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            width: 100%;
        }
        .download-btn:hover {
            background: #059669;
            transform: translateY(-2px);
        }
        .icon-label {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .batch-download {
            text-align: center;
            margin-top: 30px;
        }
        .batch-btn {
            background: #6366F1;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.2s ease;
        }
        .batch-btn:hover {
            background: #4F46E5;
            transform: translateY(-2px);
        }
        .progress {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            height: 20px;
            display: none;
        }
        .progress-bar {
            background: #10B981;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Assignment Manager - PWA Icons</h1>
        
        <div class="instructions">
            <h3>ðŸ“‹ Instructions:</h3>
            <ol>
                <li><strong>Individual Download:</strong> Click "Download" on each icon below</li>
                <li><strong>Batch Download:</strong> Click "Download All Icons" to get a ZIP file</li>
                <li><strong>Save Location:</strong> Save all PNG files in your <code>icons/</code> folder</li>
                <li><strong>Required Files:</strong> You need all these icons for proper PWA installation</li>
            </ol>
        </div>
        
        <div class="icon-grid" id="iconGrid"></div>
        
        <div class="batch-download">
            <button class="batch-btn" onclick="downloadAllIcons()">ðŸ“¦ Download All Icons (ZIP)</button>
            <div class="progress" id="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script>
        // All required PWA icon sizes
        const iconSizes = [
            { size: 16, name: 'icon-16x16.png' },
            { size: 32, name: 'icon-32x32.png' },
            { size: 72, name: 'icon-72x72.png' },
            { size: 96, name: 'icon-96x96.png' },
            { size: 128, name: 'icon-128x128.png' },
            { size: 144, name: 'icon-144x144.png' },
            { size: 152, name: 'icon-152x152.png' },
            { size: 192, name: 'icon-192x192.png' },
            { size: 384, name: 'icon-384x384.png' },
            { size: 512, name: 'icon-512x512.png' },
            { size: 192, name: 'icon-192x192-maskable.png', maskable: true },
            { size: 512, name: 'icon-512x512-maskable.png', maskable: true }
        ];
        
        function createProfessionalIcon(size, isMaskable = false) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            // Create beautiful gradient background
            const gradient = ctx.createRadialGradient(
                size * 0.3, size * 0.3, 0,
                size * 0.7, size * 0.7, size * 0.8
            );
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(0.5, '#764ba2');
            gradient.addColorStop(1, '#5a67d8');
            
            // For maskable icons, add safe area padding
            const safeArea = isMaskable ? size * 0.1 : 0;
            const iconSize = size - (safeArea * 2);
            const centerX = size / 2;
            const centerY = size / 2;
            
            // Draw rounded background
            const cornerRadius = size * 0.15;
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.roundRect(0, 0, size, size, cornerRadius);
            ctx.fill();
            
            // Add subtle inner shadow
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.beginPath();
            ctx.roundRect(0, 0, size, size, cornerRadius);
            ctx.fill();
            
            // Draw the assignment/clipboard icon
            const iconX = centerX - iconSize / 2;
            const iconY = centerY - iconSize / 2;
            
            // Main clipboard body
            ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.lineWidth = Math.max(1, size / 64);
            
            // Clipboard body with rounded corners
            const bodyRadius = iconSize * 0.1;
            ctx.beginPath();
            ctx.roundRect(iconX, iconY + iconSize * 0.1, iconSize, iconSize * 0.8, bodyRadius);
            ctx.fill();
            ctx.stroke();
            
            // Top clip
            const clipWidth = iconSize * 0.6;
            const clipHeight = iconSize * 0.15;
            ctx.beginPath();
            ctx.roundRect(
                centerX - clipWidth / 2, 
                iconY, 
                clipWidth, 
                clipHeight, 
                bodyRadius
            );
            ctx.fill();
            ctx.stroke();
            
            // Lines on clipboard
            ctx.fillStyle = 'rgba(102, 126, 234, 0.7)';
            const lineHeight = Math.max(2, size / 32);
            const lineSpacing = iconSize * 0.15;
            const lineStartX = iconX + iconSize * 0.15;
            
            for (let i = 0; i < 4; i++) {
                const lineY = iconY + iconSize * 0.3 + (i * lineSpacing);
                const lineWidth = i === 3 ? iconSize * 0.4 : iconSize * 0.7; // Last line shorter
                
                ctx.fillRect(lineStartX, lineY, lineWidth, lineHeight);
            }
            
            // Add a small checkmark for completed task (only on larger icons)
            if (size >= 96) {
                ctx.strokeStyle = '#10B981';
                ctx.fillStyle = '#10B981';
                ctx.lineWidth = Math.max(2, size / 32);
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                
                const checkSize = iconSize * 0.2;
                const checkX = iconX + iconSize * 0.75;
                const checkY = iconY + iconSize * 0.25;
                
                // Checkmark circle
                ctx.beginPath();
                ctx.arc(checkX, checkY, checkSize / 2, 0, 2 * Math.PI);
                ctx.fill();
                
                // Checkmark
                ctx.strokeStyle = 'white';
                ctx.lineWidth = Math.max(1.5, size / 48);
                ctx.beginPath();
                ctx.moveTo(checkX - checkSize * 0.3, checkY);
                ctx.lineTo(checkX - checkSize * 0.1, checkY + checkSize * 0.2);
                ctx.lineTo(checkX + checkSize * 0.3, checkY - checkSize * 0.2);
                ctx.stroke();
            }
            
            return canvas;
        }
        
        function downloadCanvas(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        function generateIcons() {
            const grid = document.getElementById('iconGrid');
            
            iconSizes.forEach(icon => {
                const div = document.createElement('div');
                div.className = 'icon-item';
                
                const canvas = createProfessionalIcon(icon.size, icon.maskable);
                div.appendChild(canvas);
                
                const label = document.createElement('div');
                label.className = 'icon-label';
                label.textContent = icon.name;
                div.appendChild(label);
                
                const downloadBtn = document.createElement('button');
                downloadBtn.className = 'download-btn';
                downloadBtn.textContent = 'Download';
                downloadBtn.onclick = () => downloadCanvas(canvas, icon.name);
                div.appendChild(downloadBtn);
                
                grid.appendChild(div);
            });
        }
        
        async function downloadAllIcons() {
            const progress = document.getElementById('progress');
            const progressBar = document.getElementById('progressBar');
            const batchBtn = document.querySelector('.batch-btn');
            
            progress.style.display = 'block';
            batchBtn.textContent = 'Generating Icons...';
            batchBtn.disabled = true;
            
            const zip = new JSZip();
            let completed = 0;
            
            for (const icon of iconSizes) {
                const canvas = createProfessionalIcon(icon.size, icon.maskable);
                const dataURL = canvas.toDataURL('image/png');
                const base64 = dataURL.split(',')[1];
                
                zip.file(icon.name, base64, { base64: true });
                
                completed++;
                const progressPercent = (completed / iconSizes.length) * 100;
                progressBar.style.width = progressPercent + '%';
                
                // Small delay to show progress
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            // Generate and download ZIP
            const content = await zip.generateAsync({ type: 'blob' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(content);
            link.download = 'assignment-manager-pwa-icons.zip';
            link.click();
            
            // Reset UI
            batchBtn.textContent = 'ðŸ“¦ Download All Icons (ZIP)';
            batchBtn.disabled = false;
            progress.style.display = 'none';
            progressBar.style.width = '0%';
        }
        
        // Generate icons when page loads
        generateIcons();
    </script>
</body>
</html>
